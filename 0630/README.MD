# π“ λ°μ΄ν„° μ„¤κ³„


## 1. λ°μ΄ν„° κµ¬μ΅° λ° μ„¤λ…

| NAME             | TYPE     | DESCRIPTION                                                      |
|------------------|----------|------------------------------------------------------------------|
| Email            | string   | μ μ €μ μ΄λ©”μΌ                                                   |
| ClientStartTime  | datetime | μ μ €κ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„ ν–‰λ™μ„ μ‹μ‘ν• μ‹κ°„                        |
| ServerStartTime  | datetime | μ μ €κ°€ μ”μ²­μ„ λ³΄λƒμ„ λ• μ„λ²„κ°€ ν–‰λ™μ„ μ‹μ‘ν• μ‹κ°„               |
| PageName         | string   | νμ΄μ§€ μ΄λ¦„                                                     |
| PageTypeCode     | string   | νμ΄μ§€μ μΆ…λ¥λ¥Ό λ‚νƒ€λ‚΄λ” μ½”λ“ λ²νΈ                              |
| Action           | string   | μ μ €κ°€ μν–‰ν• ν–‰λ™                                              |
| PageId           | uuid     | ν•΄λ‹Ή νμ΄μ§€μ κ³ μ  μ•„μ΄λ””                                       |
| ClientEndTime    | datetime | μ μ €κ°€ ν•΄λ‹Ή ν–‰λ™μ„ λλƒμ„ λ•μ ν΄λΌμ΄μ–ΈνΈ μΈ΅ μΆ…λ£ μ‹κ°„          |
| ServerEndDate    | datetime | μ μ €κ°€ ν–‰λ™μ„ λλ‚Έ ν›„ μ„λ²„μ— κ°’μ„ μ €μ¥ν• μ‹μ  (ν΄λΌμ΄μ–ΈνΈ κΈ°μ¤€) |


## 2. μμ‹ μ‹λ‚λ¦¬μ¤: μ μ €μ νμ΄μ§€ μ§„μ… (view ν–‰λ™)

  1. μ μ €κ°€ νμ΄μ§€μ— μ§„μ…ν• μ‹μ  

    - μ‚¬μ©μλ” 2025-06-30 xxμ‹ xxλ¶„ xxμ΄μ— main νμ΄μ§€μ—μ„  view   ν–‰λ™μ„ μν–‰ν•©λ‹λ‹¤.
    
  2. ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°μ΄ν„° μƒμ„± λ° μ”μ²­ μ „μ†΅

    - ν΄λΌμ΄μ–ΈνΈλ” λ‹¤μκ³Ό κ°™μ€ JSON λ°μ΄ν„°λ¥Ό μƒμ„±ν•μ—¬ μ„λ²„μ— μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤:
  ``` js
  {
    "StartClientDate": "2025-06-30 xx:xx:xx",
    "Page": "main",
    "Action": "view"
  }

  ```

  3. μ„λ²„μ—μ„ μ”μ²­ μμ‹  λ° μ²λ¦¬

    - μ„λ²„λ” μ”μ²­μ„ μμ‹ ν• μ‹μ  (2025-06-30 xx:xx:xx)μ μ„λ²„ μ‹κ°„μ„ κΈ°μ¤€μΌλ΅ λ‹¤μκ³Ό κ°™μ€ μ²λ¦¬λ¥Ό μν–‰ν•©λ‹λ‹¤:
      
      * μ”μ²­ν• μ μ €μ μ΄λ©”μΌ: "xxx"

      * νμ΄μ§€ μ΄λ¦„: "main"

      * μν–‰λ ν–‰λ™: "view"

      * νμ΄μ§€ IDλ” UUIDλ΅ λλ¤ μƒμ„±λλ©°, μ:
      PageId: "550e8400-e29b-41d4-a716-446655440000" 


![alt text](image.png)

## 3. λ°μ΄ν„° μμ§‘ λ°©λ²•

### β… 1. URL ν™μ©

  - νμ΄μ§€ μ •λ³΄λ¥Ό URL νλΌλ―Έν„°μ—μ„ μ¶”μ¶ν•μ—¬ μμ§‘ν•©λ‹λ‹¤.
  - μμ‹: https://example.com/event&page=1 -> event νμ΄μ§€μ 1λ² νμ΄μ§€λ¥Ό λ³΄κ³  μμ
  - & κµ¬λ¶„μλ¥Ό ν™μ©ν•΄ νμ‹± μ²λ¦¬ μμ •

### β… 2. μΏ ν‚¤ ν™μ©

  - νμ΄μ§€ λ°©λ¬Έ μ‹ μƒμ„±λ PageIdλ¥Ό μΏ ν‚¤λ΅ μ €μ¥ν•μ—¬ μ¶”μ ν•©λ‹λ‹¤
  - SameSite=Lax μ •μ±…μ„ μ‚¬μ©ν•μ—¬ νμ΄μ§€ κ°„ μ”μ²­μ—λ„ μ•μ •μ μΌλ΅ μ μ§€λ©λ‹λ‹¤.
  - PageId=550e8400-e29b-41d4-a716-446655440000

### β… 3. μ΄λ²¤νΈ λ¦¬μ¤λ„ ν™μ©

  - νΉμ • μ‚¬μ©μ ν–‰λ™μ„ κ°μ§€ν•μ—¬ μμ§‘ λ΅μ§μ„ νΈλ¦¬κ±°ν•©λ‹λ‹¤.
  - μμ‹:
    ``` js
      document.querySelector("button").addEventListener("click", () => {/** μμ§‘ λ΅μ§ */});
    ```

## 4. λ°μ΄ν„° κµ¬μ΅° μ„¤κ³„ μ΄μ 

  1. Map μλ£κµ¬μ΅° μ‚¬μ© μ΄μ 

    νμ΄μ§€λ§λ‹¤ μμ§‘ ν•­λ©μ΄ λ‹¤λ¥Ό μ μκΈ° λ•λ¬Έμ—, μ μ—°ν•κ³  λΉ λ¥΄κ² ν‚¤-κ°’ μ ‘κ·Όμ΄ κ°€λ¥ν• Map κµ¬μ΅°λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

  2. μ„¤κ³„ λ©μ 

    μ‚¬μ©μ ν–‰λ™μ„ μ¶”μ ν•  λ• λ„κ°€(Email, PageId), μ–Έμ (Start/EndClient/ServerDate),μ–΄λ””μ„(PageName, PageTypeCode), λ¬΄μ—‡μ„(Action) μν–‰ν–λ”μ§€λ¥Ό μ •λ°€ν•κ² κΈ°λ΅ν•κΈ° μ„ν•¨μ…λ‹λ‹¤.

  3. Email / PageId λ¶„λ¦¬ μ΄μ 

    λ΅κ·ΈμΈν•μ§€ μ•μ€ νμ΄μ§€λ„ κ³ λ ¤ν•λ©°, EndServerDateμ™€μ μ—°λ™ μ‹ μ¶”μ μ μ μ—°μ„±μ„ μ„ν•΄ λ³„λ„ ν•„λ“λ΅ μ μ§€ν•©λ‹λ‹¤.

  4. Client vs Server μ‹κ°„ λ¶„λ¦¬ μ΄μ 

    ν΄λΌμ΄μ–ΈνΈ μ²΄λ¥ μ‹κ°„ λ¶„μ„, μ„λ²„ μ§€μ—° κ³„μ‚°, μ‚¬μ©μ UX μΈ΅μ • λ“±μ„ μ„ν•΄ μ–‘μ½ μ‹κ°„μ„ λ¨λ‘ κΈ°λ΅ν•©λ‹λ‹¤.

  5. PageTypeCode ν•„λ“ μ΄μ 

    λ™μΌν• URLμ΄λΌλ„ νμ΄μ§€ κµ¬μ„±(νƒ­/λ·° λ“±)μ— λ”°λΌ λ‹¤λ¥Έ μ‹λ³„μ΄ ν•„μ”ν•  μ μμ–΄ νƒ€μ… λ¶„λ¦¬λ¥Ό μ„ν•΄ μ‚¬μ©ν•©λ‹λ‹¤.

  6. μΏ ν‚¤ μ‚¬μ© μ΄μ 

    LAX μΏ ν‚¤λ¥Ό ν†µν•΄ νμ΄μ§€ κ°„ λ°μ΄ν„° μ¶”μ μ΄ κ°€λ¥ν•λ©°, λ™μΌ νμ΄μ§€ λ‚΄ ν–‰λ™ μ‹λ³„μ— μ λ¦¬ν•©λ‹λ‹¤.

## π–Ό μ‹κ°μ  μμ‹

![alt text](image-1.png)

